levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0430000 <- factor(data$R0430000,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0430800 <- factor(data$R0430800,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0435600 <- factor(data$R0435600,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0436500 <- factor(data$R0436500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0441400 <- factor(data$R0441400,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0443300 <- factor(data$R0443300,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0671400 <- factor(data$R0671400,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0672000 <- factor(data$R0672000,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0677700 <- factor(data$R0677700,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0678500 <- factor(data$R0678500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0685600 <- factor(data$R0685600,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0686500 <- factor(data$R0686500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0691500 <- factor(data$R0691500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0691900 <- factor(data$R0691900,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0692300 <- factor(data$R0692300,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0693400 <- factor(data$R0693400,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
#  data$R0780200[0.0 <= data$R0780200 & data$R0780200 <= 10.0] <- 0.0
#  data$R0780200[27.0 <= data$R0780200 & data$R0780200 <= 99999.0] <- 27.0
#  data$R0780200 <- factor(data$R0780200,
#    levels=c(0.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,21.0,22.0,23.0,24.0,25.0,26.0,27.0),
#    labels=c("0 TO 10: < 11",
#      "11",
#      "12",
#      "13",
#      "14",
#      "15",
#      "16",
#      "17",
#      "18",
#      "19",
#      "20",
#      "21",
#      "22",
#      "23",
#      "24",
#      "25",
#      "26",
#      "27 TO 99999: 27+"))
data$R0780400 <- factor(data$R0780400,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0),
labels=c("NEVER",
"ONCE",
"2 OR 3 TIMES",
"4 OR 5 TIMES",
"6 OR 7 TIMES",
"8 OR 9 TIMES",
"10 OR MORE TIMES"))
data$R0781100 <- factor(data$R0781100,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0913200 <- factor(data$R0913200,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0913800 <- factor(data$R0913800,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0919400 <- factor(data$R0919400,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0920200 <- factor(data$R0920200,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0927400 <- factor(data$R0927400,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0928500 <- factor(data$R0928500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0933700 <- factor(data$R0933700,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0934100 <- factor(data$R0934100,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0934500 <- factor(data$R0934500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R0936400 <- factor(data$R0936400,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
#  data$R1021700[0.0 <= data$R1021700 & data$R1021700 <= 9.0] <- 0.0
# data$R1021700[26.0 <= data$R1021700 & data$R1021700 <= 99999.0] <- 26.0
#  data$R1021700 <- factor(data$R1021700,
#    levels=c(0.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,21.0,22.0,23.0,24.0,25.0,26.0),
#    labels=c("0 TO 9: < 10",
#      "10",
#      "11",
#      "12",
#      "13",
#      "14",
#      "15",
#      "16",
#      "17",
#      "18",
#      "19",
#      "20",
#      "21",
#      "22",
#      "23",
#      "24",
#      "25",
#      "26 TO 99999: 26+"))
data$R1022000 <- factor(data$R1022000,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0),
labels=c("NEVER",
"ONCE",
"2 OR 3 TIMES",
"4 OR 5 TIMES",
"6 OR 7 TIMES",
"8 OR 9 TIMES",
"10 OR MORE TIMES"))
#  data$R1022100[16.0 <= data$R1022100 & data$R1022100 <= 99999.0] <- 16.0
#  data$R1022100 <- factor(data$R1022100,
#    levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
#    labels=c("0",
#      "1",
#      "2",
#      "3",
#      "4",
#      "5",
#      "6",
#      "7",
#      "8",
#      "9",
#      "10",
#      "11",
#      "12",
#      "13",
#      "14",
#      "15",
#      "16 TO 99999: 16+"))
data$R1023600 <- factor(data$R1023600,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1221900 <- factor(data$R1221900,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1222500 <- factor(data$R1222500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1228900 <- factor(data$R1228900,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1230000 <- factor(data$R1230000,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1238200 <- factor(data$R1238200,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1243500 <- factor(data$R1243500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1243900 <- factor(data$R1243900,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1244300 <- factor(data$R1244300,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1246700 <- factor(data$R1246700,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1391200 <- factor(data$R1391200,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1391300 <- factor(data$R1391300,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0),
labels=c("NEVER",
"ONCE",
"2 OR 3 TIMES",
"4 OR 5 TIMES",
"6 OR 7 TIMES",
"8 OR 9 TIMES",
"10 OR MORE TIMES"))
#  data$R1391400[16.0 <= data$R1391400 & data$R1391400 <= 99999.0] <- 16.0
#  data$R1391400 <- factor(data$R1391400,
#    levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
#    labels=c("0",
#      "1",
#      "2",
#      "3",
#      "4",
#      "5",
#      "6",
#      "7",
#      "8",
#      "9",
#      "10",
#      "11",
#      "12",
#      "13",
#      "14",
#      "15",
#      "16 TO 99999: 16+"))
data$R1392900 <- factor(data$R1392900,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1393400 <- factor(data$R1393400,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1393500 <- factor(data$R1393500,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1393600 <- factor(data$R1393600,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
data$R1393700 <- factor(data$R1393700,
levels=c(0.0,1.0),
labels=c("NO",
"YES"))
return(data)
}
varlabels <- c("ID# (1-12686) 79",
"ICHK SERVED BOTH ACTIVE AF AND GARD 79",
"ICHK IN AAF M-RCNT ENLSTMNT 79",
"ICHK IN AAF 2ND M-RCNT ENLSTMNT 79",
"IN AAF M-RCNT PRD OF SRVC 79",
"ICHK R CURRENTLY ON AAF DUTY 79",
"ICHK R CURRENTLY ON AAF DUTY 79",
"ICHK R CURRENTLY ON AAF DUTY 79",
"ICHK CURRENTLY AAF RESERVES/GARD 79",
"SAMPLE ID  79 INT",
"RACL/ETHNIC COHORT /SCRNR 79",
"SEX OF R 79",
"ICHK R IN AAF @ LINT 80",
"ICHK R ENTER AAF M-RCNT ENLSTMNT 80",
"ICHK R CURRENTLY IN AAF 80",
"ICHK R IN AAF @ LINT 80",
"ICHK R CURRENTLY IN AAF 80",
"TIME SERVE ACT AF (NOT CUR ENLSTD) 80",
"ICHK R CURRENTLY ON AAF DUTY 80",
"ICHK R IN AAF @ LINT 81",
"ICHK R ENTER AAF M-RCNT ENLSTMNT 81",
"ICHK R CURRENTLY IN AAF 81",
"ICHK R IN AAF @ LINT 81",
"ICHK R CURRENTLY IN AAF 81",
"TIME SERVE ACT AF (NOT CUR ENLSTD) 81",
"ICHK R CURRENTLY ON AAF DUTY 81",
"ICHK IN AAF @ LINT SAME BRANCH 82",
"ICHK R IN AAF @ LINT 82",
"ICHK R ENTER AAF M-RCNT ENLSTMNT 82",
"ICHK R CURRENTLY IN AAF 82",
"ICHK R IN AAF @ LINT 82",
"ICHK R CURRENTLY IN AAF 82",
"TIME SERVE ACT AF (NOT CUR ENLSTD) 82",
"ICHK DID ENTER AAF NOT NOW ENLSTD 82",
"ICHK R IN THE AAF (NOT NOW ENLSTD) 82",
"ICHK R CURRENTLY ON AAF DUTY 82",
"ALCHL-AGE START DRNK 82",
"ALCHL-FREQ 6/> DRNK @ 1 TM LAST MO 82",
"ALCHL-DRNK INTERFERE W/JOB 82",
"ICHK R ACT ARM FORCE LINT SAME 83",
"ICHK R IN AAF @ LINT 83",
"ICHK R ENTER AAF M-RCNT ENLSTMNT 83",
"ICHK R CURRENTLY IN AAF 83",
"ICHK R IN AAF @ LINT 83",
"ICHK R CURRENTLY IN AAF 83",
"TIME SERVE ACT AF (NOT CUR ENLSTD) 83",
"ICHK DID ENTER AAF NOT NOW ENLSTD 83",
"ICHK R IN THE AAF (NOT NOW ENLSTD) 83",
"ICHK R CURRENTLY ON AAF DUTY 83",
"ALCHL-AGE START DRNK 83",
"ALCHL-FREQ 6/> DRNK @ 1 TM LAST MO 83",
"ALCHL-#DAYS DRANK ALCOHOL LAST MO 83",
"ALCHL-DRNK INTERFERE W/JOB 83",
"ICHK IN AAF @ LINT SAME BR AS @ LINT 84",
"ICHK R IN AAF @ LINT 84",
"ICHK R ENTER AAF M-RCNT ENLSTMNT 84",
"ICHK R CURRENTLY IN AAF 84",
"ICHK R CURRENTLY IN AAF 84",
"TIME SERVE ACT AF (NOT CUR ENLSTD) 84",
"ICHK DID ENTER AAF NOT NOW ENLSTD 84",
"ICHK R IN THE AAF (NOT NOW ENLSTD) 84",
"ICHK R CURRENTLY ON AAF DUTY 84",
"ALCHL-DRNK INTERFERE W/JOB 84",
"ALCHL-FREQ 6/> DRNK @ 1 TM LAST MO 84",
"ALCHL-#DAYS DRANK ALCOHOL LAST MO 84",
"ALCHL-DRNK INTERFERE W/JOB 84",
"ALCHL-AFRAID BE/BECOME ALCHLC 84",
"ALCHL-DIFF STOP DRNK UNTIL INTOX 84",
"ALCHL-DONT REMEMBER THING WHILE DRNK 84",
"ALCHL-TAKE DRNK 1ST THING MORN 84"
)
# Use qnames rather than rnums
#Change these names to be useful
#AD = ACTIVE DUTY
#ARNG= ACTIVE RESERVE NATIONAL GUARD
qnames = function(data) {
names(data) <- c("CASEID",
"AD_AND_ARNG_79",
"AD_RECENT_ENLIST_79",
"AD_2NDRECENT_ENLIST_79",
"AD_RECENT_SERVICEPERIOD_79",
"CURRENT_AD_YN_79",
"CURRENT_AD_ARNG_79",
"CURRENT_AD_ARNG_STATUS_79",
"CURRENT_AD_ARNG_YN_79",
"SAMPLE_ID_79",
"RACE",
"SAMPLE_SEX_79",
"AD_LAST_INT_NOTSAME_BRANCH_80",
"NEW_ENLIST_AD_80",
"CURRENT_AD_YN_80",#G1_CONFUSION_Q4-15
"AD_LAST_INT_SAME_BRANCH_80",
"CURRENT_AD_YN_80_Q2",#G1_CONFUSION_MIL-59
"TIME_SERVED_YN_80",
"CURRENT_AD_YN_80", #G1_CONFUSION_MIL-48
"AD_LAST_INT_NOTSAME_BRANCH_81",
"NEW_ENLIST_AD_81",
"CURRENT_AD_YN_81",#G1_CONFUSION_Q4-15
"AD_LAST_INT_SAME_BRANCH_81",
"CURRENT_AD_YN_81_Q2",#G1_CONFUSION_MIL-59
"TIME_SERVED_YN_81",
"CURRENT_AD_YN_81", #G1_CONFUSION_MIL-48
"AD_LAST_INT_SAME_BRANCH_82",
"AD_LAST_INT_NOTSAME_BRANCH_82",
"NEW_ENLIST_AD_82",
"CURRENT_AD_YN_82",#G1_CONFUSION_Q4-15
"AD_LAST_INT_SAME_BRANCH_82",
"CURRENT_AD_YN_82_Q2",#G1_CONFUSION_MIL-59
"TIME_SERVED_YN_82",
"NEW_ENLIST_NOTSERVING_82",#G2_CONFUSION_MIL-100
"ENLISTED_NOTSERVING_82",#G2_CONFUSION_Q4-12A
"CURRENT_AD_YN_82", #G1_CONFUSION_MIL-48
"AGE_START_DRINK_82",
"ALC_FREQ6DRINKS_82",
"ALC_IMPACT_JOB_82",
"AD_LAST_INT_SAME_BRANCH_83",
"AD_LAST_INT_NOTSAME_BRANCH_83",
"NEW_ENLIST_AD_83",
"CURRENT_AD_YN_83",#G1_CONFUSION_Q4-15
"AD_LAST_INT_SAME_BRANCH_83",
"CURRENT_AD_YN_83_Q2",#G1_CONFUSION_MIL-59
"TIME_SERVED_YN_83",
"NEW_ENLIST_NOTSERVING_83",#G2_CONFUSION_MIL-100
"ENLISTED_NOTSERVING_83",#G2_CONFUSION_Q4-12A,
"CURRENT_AD_YN_83", #G1_CONFUSION_MIL-48,
"AGE_START_DRINK_83",
"ALC_FREQ6DRINK_83",
"NUM_DAY_DRANK_LAST_MONTH_83",
"ALC_IMPACT_JOB_83",
"AD_LAST_INT_SAME_BRANCH_84",
"AD_LAST_INT_NOTSAME_BRANCH_84",
"NEW_ENLIST_AD_84",
"CURRENT_AD_YN_84",#G1_CONFUSION_Q4-15",
"CURRENT_AD_YN_84_Q2",#G1_CONFUSION_MIL-59
"TIME_SERVED_YN_84",
"NEW_ENLIST_NOTSERVING_83",#G2_CONFUSION_MIL-100
"ENLISTED_NOTSERVING_84",#G2_CONFUSION_Q4-12A,
"CURRENT_AD_YN_84", #G1_CONFUSION_MIL-48,
"ALC_IMPACT_JOB_NOALC_LAST30_84",
"ALC_FREQ6DRINK_84",
"NUM_DAY_DRANK_LAST_MONTH_84",
"ALC_IMPACT_JOB_YESALC_LAST30_84",
"AFRAID_ALCOHOLIC_84",
"DRINK_UNTIL_DRUNK_84",
"FORGETS_NEXT_DAY_84",
"DRINK_FIRST_MORNING_84")
return(data)
}
#********************************************************************************************************
# Remove the '#' before the following line to create a data file called "categories" with value labels.
#categories <- vallabels(new_data)
# Remove the '#' before the following lines to rename variables using Qnames instead of Reference Numbers
#new_data <- qnames(new_data)
df_data <- qnames(vallabels(new_data))
# Produce summaries for the raw (uncategorized) data file
summary(df_data)
# Remove the '#' before the following lines to produce summaries for the "categories" data file.
#categories <- vallabels(new_data)
#summary(categories)
#************************************************************************************************************
# Set working directory
# setwd()
new_data <- read.table('data/noninterview_var/noninterview_var.dat', sep=' ')
names(new_data) <- c('R0000100',
'T8218500')
# Handle missing values
new_data[new_data == -1] = NA  # Refused
new_data[new_data == -2] = NA  # Dont know
new_data[new_data == -3] = NA  # Invalid missing
new_data[new_data == -4] = NA  # Valid missing
new_data[new_data == -5] = NA  # Non-interview
# If there are values not categorized they will be represented as NA
vallabels = function(data) {
data$T8218500 <- factor(data$T8218500,
levels=c(60.0,61.0,62.0,63.0,64.0,65.0,66.0,67.0,68.0,69.0,70.0,71.0,72.0,73.0,74.0,75.0,76.0,77.0),
labels=c("60: 60  PARENT REFUSAL/BREAKOFF",
"61: 61  YOUTH REFUSAL/BREAKOFF",
"62: 62  PARENT & YOUTH REFUSAL/BREAKOFF",
"63: 63  UNABLE TO LOCATE FAMILY UNIT & YOUTH",
"64: 64  UNABLE TO LOCATE YOUTH",
"65: 65  DECEASED",
"66: 66  OTHER",
"67: 67  DO NOT REFIELD (VERY DIFFICULT CASE)",
"68: 68  MILITARY SAMPLE DROPPED",
"69: 69  SUPPLEMENTAL MALE POOR WHITE SAMPLE DROPPED",
"70: 70  SUPPLEMENTAL FEMALE POOR WHITE SAMPLE DROPPED",
"71: 71  YOUTH REFUSAL - VERY DIFFICULT CASE",
"72: 72  NOT FIELDED IN CURRENT SURVEY YEAR - VERY DIFFICULT CASE",
"73: 73  NOT INTERVIEWED - INCARCERATED",
"74: 74  NOT INTERVIEWED - IN MILITARY",
"75: 75  DECEASED - MEMBER OF DROPPED SPECIAL SAMPLE",
"76: 76  UNAVAILABLE DURING FIELD PERIOD",
"77: 77  REFUSAL - BY AVOIDANCE"))
return(data)
}
varlabels <- c("ID# (1-12686) 79",
"REASONS FOR NON-INT 2018"
)
# Use qnames rather than rnums
qnames = function(data) {
names(data) <- c("CASEID_1979",
"RNI_2018")
return(data)
}
#********************************************************************************************************
# Remove the '#' before the following line to create a data file called "categories" with value labels.
#categories <- vallabels(new_data)
# Remove the '#' before the following lines to rename variables using Qnames instead of Reference Numbers
#new_data <- qnames(new_data)
#categories <- qnames(categories)
df_data_rni <- qnames(vallabels(new_data))
# Produce summaries for the raw (uncategorized) data file
summary(df_data_rni)
df_data$REASON_NONINT <- df_data_rni$RNI_2018
summary(df_data)
# Remove the '#' before the following lines to produce summaries for the "categories" data file.
#categories <- vallabels(new_data)
#summary(categories)
#************************************************************************************************************
df_rni_military_dropped <- df_data_rni %>%
filter(RNI_2018 == "68: 68  MILITARY SAMPLE DROPPED")
View(df_rni_military_dropped)
get(wd)
get(wd)
